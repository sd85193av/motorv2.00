

Microchip MPLAB XC8 Assembler V2.40 build 20220703182018 
                                                                                                           Mon Oct 02 16:38:53 2023


     1                           	processor	16F1947
     2                           	pagewidth 132
     3                           	psect	udata_shr,global,class=COMMON,space=1,delta=1,noexec
     4                           	psect	udata,global,class=RAM,space=1,delta=1,noexec
     5                           	psect	udata_bank0,global,class=BANK0,space=1,delta=1,noexec
     6                           	psect	udata_bank1,global,class=BANK1,space=1,delta=1,noexec
     7                           	psect	udata_bank2,global,class=BANK2,space=1,delta=1,noexec
     8                           	psect	udata_bank3,global,class=BANK3,space=1,delta=1,noexec
     9                           	psect	udata_bank4,global,class=BANK4,space=1,delta=1,noexec
    10                           	psect	udata_bank5,global,class=BANK5,space=1,delta=1,noexec
    11                           	psect	udata_bank6,global,class=BANK6,space=1,delta=1,noexec
    12                           	psect	udata_bank7,global,class=BANK7,space=1,delta=1,noexec
    13                           	psect	udata_bank8,global,class=BANK8,space=1,delta=1,noexec
    14                           	psect	udata_bank9,global,class=BANK9,space=1,delta=1,noexec
    15                           	psect	udata_bank10,global,class=BANK10,space=1,delta=1,noexec
    16                           	psect	udata_bank11,global,class=BANK11,space=1,delta=1,noexec
    17                           	psect	udata_bank12,global,class=BANK12,space=1,delta=1,noexec
    18                           	psect	code,global,class=CODE,delta=2
    19                           	psect	data,global,class=STRCODE,delta=2,noexec
    20                           	psect	edata,global,class=EEDATA,space=3,delta=2,noexec
    21                           	psect	tool,global,class=CODE,delta=2
    22                           
    23                           ;========================================================
    24                           ;================ Project Information ===================
    25                           ;========================================================
    26                           ;Project Name : Software Timer
    27                           ;-------------------------------------------------------
    28                           ;Project Version: 2.00
    29                           ;Edit Date : 2023/09/28
    30                           ;Function Info : 2 source time bases
    31                           ; : 4 consecutive triggers Timer (can be adjusted)
    32                           ; : 2 one-shot Timer
    33                           ;-------------------------------------------------------
    34                           ;Register
    35                           ; 2 register for set status
    36                           ; 6 register for data used
    37                           ; 2 register for set one-shot Timer
    38                           ;-------------------------------------------------------
    39                           ;Content details:
    40                           ;2 source time bases :
    41                           ;Two sources are BASE1,BASE2
    42                           ;
    43                           ;BASE1/2 : Need to set Register
    44                           ;The module will automatically clear the relevant flags
    45                           ;=>【BSF TMR_MODULE_FLAG,TMR_BASE1_FLAG】 / TMR_BASE2_FLAG
    46                           ;-------------------------------------------------------
    47                           ;4 consecutive triggers Timer (Base on source1,can be adjusted)
    48                           ;TMR BASE1_01 / TMR BASE1_02 / TMR BASE1_03 / TMR BASE1_04
    49                           ;
    50                           ;Every time 【TMR BASE FLAG】 is triggered,the timer is continuously
    51                           ;triggered will automatically add one and automatically restart the timer
    52                           ;The continuous trigger timer flag must be manually cleared
    53                           ;
    54                           ;=> 【BCF TMR_BASE1_01_TRI_F】/ TMR_BASE1_02_TRI_F
    55                           ; TMR_BASE1_03_TRI_F / TMR_BASE1_04_TRI_F
    56                           ;-------------------------------------------------------
    57                           ;2 one-shot Timer (Base on source2,can be adjusted by the program)
    58                           ;TMR BASE2_01 / TMR BASE2_02
    59                           ;
    60                           ;When the timer is set to start, each 【TMR BASE FLAG】 will trigger the
    61                           ;timer,when the set time is met, the specific flag will be set and the
    62                           ;timer will be turned off
    63                           ;
    64                           ;Need to set 【BCF TMR_BASE2_STATUS, TMR_BASE2_EV01_DOF】
    65                           ;to Start the timing function.
    66                           ;When the timer ends 【BCF TMR_BASE2_STATUS,TMR_BASE2_EV01_OVER】will be set.
    67                           ;-------------------------------------------------------
    68                           ;==========================================================================
    69                           ; MPASM PIC16LF1947 processor include
    70                           ;
    71                           ; (c) Copyright 1999-2013 Microchip Technology, All rights reserved
    72                           ;==========================================================================
    73                           ;==========================================================================
    74                           ; This header file defines configurations, registers, and other useful
    75                           ; bits of information for the PIC16LF1947 microcontroller. These names
    76                           ; are taken to match the data sheets as closely as possible.
    77                           ;
    78                           ; Note that the processor must be selected before this file is included.
    79                           ; The processor may be selected the following ways:
    80                           ;
    81                           ; 1. Command line switch:
    82                           ; C:\MPASM MYFILE.ASM /PIC16LF1947
    83                           ; 2. LIST directive in the source file
    84                           ; LIST P=PIC16LF1947
    85                           ; 3. Processor Type entry in the MPASM full-screen interface
    86                           ; 4. Setting the processor in the MPLAB Project Dialog
    87                           ;==========================================================================
    88                           ;==========================================================================
    89                           ;
    90                           ; Verify Processor
    91                           ;
    92                           ;==========================================================================
    93                           ; IFNDEF __16LF1947
    94                           ; MESSG "Processor-header file mismatch.  Verify selected processor."
    95                           ; ENDIF
    96                           ;==========================================================================
    97                           ;
    98                           ; Register Definitions
    99                           ;
   100                           ;==========================================================================
   101                           ;W EQU 0000H
   102                           ;F EQU 0001H
   103                           ;----- Register Files -----------------------------------------------------
   104                           ;-----Bank0------------------
   105     0003                     
   106                           ;FSR0 EQU 0004H
   107     0005                     
   108                           ;FSR1 EQU 0006H
   109     001F                     
   110                           ;-----Bank1------------------
   111     009E                     
   112                           ;-----Bank2------------------
   113     011F                     
   114                           ;-----Bank3------------------
   115     019F                     
   116                           ;-----Bank4------------------
   117     021F                     
   118                           ;-----Bank5------------------
   119     029F                     
   120                           ;-----Bank6------------------
   121     031E                     
   122                           ;-----Bank7------------------
   123     0396                     
   124                           ;-----Bank8------------------
   125     041E                     
   126                           ;-----Bank9------------------
   127     0497                     
   128                           ;-----Bank15------------------
   129     07B7                     
   130                           ;-----Bank31------------------
   131     0FEF                     
   132                           ;----- STATUS Bits -----------------------------------------------------
   133     0004                     
   134                           ;----- BSR Bits -----------------------------------------------------
   135     0004                     
   136                           ;----- INTCON Bits -----------------------------------------------------
   137     0005                     
   138                           ;----- PORTA Bits -----------------------------------------------------
   139     0007                     
   140                           ;----- PORTB Bits -----------------------------------------------------
   141     0000                     
   142                           ;----- PORTC Bits -----------------------------------------------------
   143     0002                     
   144                           ;----- PORTD Bits -----------------------------------------------------
   145     0006                     
   146                           ;----- PORTE Bits -----------------------------------------------------
   147     0007                     
   148                           ;----- PIR1 Bits -----------------------------------------------------
   149     0005                     
   150                           ;----- PIR2 Bits -----------------------------------------------------
   151     0007                     
   152                           ;----- PIR3 Bits -----------------------------------------------------
   153     0006                     
   154                           ;----- PIR4 Bits -----------------------------------------------------
   155     0005                     
   156                           ;----- T1CON Bits -----------------------------------------------------
   157     0007                     
   158                           ;----- T1GCON Bits -----------------------------------------------------
   159     0003                     
   160                           ;----- T2CON Bits -----------------------------------------------------
   161     0006                     
   162                           ;----- CPSCON0 Bits -----------------------------------------------------
   163     0007                     
   164                           ;----- CPSCON1 Bits -----------------------------------------------------
   165     0004                     
   166                           ;----- TRISA Bits -----------------------------------------------------
   167     0007                     
   168                           ;----- TRISB Bits -----------------------------------------------------
   169     0007                     
   170                           ;----- TRISC Bits -----------------------------------------------------
   171     0007                     
   172                           ;----- TRISD Bits -----------------------------------------------------
   173     0007                     
   174                           ;----- TRISE Bits -----------------------------------------------------
   175     0007                     
   176                           ;----- PIE1 Bits -----------------------------------------------------
   177     0005                     
   178                           ;----- PIE2 Bits -----------------------------------------------------
   179     0007                     
   180                           ;----- PIE3 Bits -----------------------------------------------------
   181     0006                     
   182                           ;----- PIE4 Bits -----------------------------------------------------
   183     0005                     
   184                           ;----- OPTION_REG Bits -----------------------------------------------------
   185     0005                     
   186                           ;----- PCON Bits -----------------------------------------------------
   187     0007                     
   188                           ;----- WDTCON Bits -----------------------------------------------------
   189     0005                     
   190                           ;----- OSCTUNE Bits -----------------------------------------------------
   191     0005                     
   192                           ;----- OSCCON Bits -----------------------------------------------------
   193     0007                     
   194                           ;----- OSCSTAT Bits -----------------------------------------------------
   195     0007                     
   196                           ;----- ADCON0 Bits -----------------------------------------------------
   197     0001                     
   198                           ;----- ADCON1 Bits -----------------------------------------------------
   199     0007                     
   200                           ;----- LATA Bits -----------------------------------------------------
   201     0007                     
   202                           ;----- LATB Bits -----------------------------------------------------
   203     0007                     
   204                           ;----- LATC Bits -----------------------------------------------------
   205     0007                     
   206                           ;----- LATD Bits -----------------------------------------------------
   207     0007                     
   208                           ;----- LATE Bits -----------------------------------------------------
   209     0007                     
   210                           ;----- CM1CON0 Bits -----------------------------------------------------
   211     0007                     
   212                           ;----- CM1CON1 Bits -----------------------------------------------------
   213     0007                     
   214                           ;----- CM2CON0 Bits -----------------------------------------------------
   215     0007                     
   216                           ;----- CM2CON1 Bits -----------------------------------------------------
   217     0007                     
   218                           ;----- CMOUT Bits -----------------------------------------------------
   219     0002                     
   220                           ;----- BORCON Bits -----------------------------------------------------
   221     0007                     
   222                           ;----- FVRCON Bits -----------------------------------------------------
   223     0007                     
   224                           ;----- DACCON0 Bits -----------------------------------------------------
   225     0007                     
   226                           ;----- DACCON1 Bits -----------------------------------------------------
   227     0004                     
   228                           ;----- SRCON0 Bits -----------------------------------------------------
   229     0007                     
   230                           ;----- SRCON1 Bits -----------------------------------------------------
   231     0007                     
   232                           ;----- APFCON Bits -----------------------------------------------------
   233     0007                     
   234                           ;----- CM3CON0 Bits -----------------------------------------------------
   235     0007                     
   236                           ;----- CM3CON1 Bits -----------------------------------------------------
   237     0007                     
   238                           ;----- ANSELA Bits -----------------------------------------------------
   239     0005                     
   240                           ;----- ANSELE Bits -----------------------------------------------------
   241     0002                     
   242                           ;----- EECON1 Bits -----------------------------------------------------
   243     0007                     
   244                           ;----- RC1STA Bits -----------------------------------------------------
   245     0007                     
   246                           ;----- RCSTA Bits -----------------------------------------------------
   247     0007                     
   248                           ;----- TX1STA Bits -----------------------------------------------------
   249     0007                     
   250                           ;----- TXSTA Bits -----------------------------------------------------
   251     0007                     
   252                           ;----- BAUD1CON Bits -----------------------------------------------------
   253     0007                     
   254                           ;----- WPUB Bits -----------------------------------------------------
   255     0007                     
   256                           ;----- SSP1STAT Bits -----------------------------------------------------
   257     0007                     
   258                           ;----- SSPSTAT Bits -----------------------------------------------------
   259     0007                     
   260                           ;----- SSP1CON1 Bits -----------------------------------------------------
   261     0007                     
   262                           ;----- SSPCON Bits -----------------------------------------------------
   263     0007                     
   264                           ;----- SSPCON1 Bits -----------------------------------------------------
   265     0007                     
   266                           ;----- SSP1CON2 Bits -----------------------------------------------------
   267     0007                     
   268                           ;----- SSPCON2 Bits -----------------------------------------------------
   269     0007                     
   270                           ;----- SSP1CON3 Bits -----------------------------------------------------
   271     0007                     
   272                           ;----- SSPCON3 Bits -----------------------------------------------------
   273     0007                     
   274                           ;----- SSP2STAT Bits -----------------------------------------------------
   275     0007                     
   276                           ;----- SSP2CON1 Bits -----------------------------------------------------
   277     0007                     
   278                           ;----- SSP2CON2 Bits -----------------------------------------------------
   279     0007                     
   280                           ;----- SSP2CON3 Bits -----------------------------------------------------
   281     0007                     
   282                           ;----- PORTF Bits -----------------------------------------------------
   283     0007                     
   284                           ;----- PORTG Bits -----------------------------------------------------
   285     0004                     
   286                           ;----- CCP1CON Bits -----------------------------------------------------
   287     0007                     
   288                           ;----- PWM1CON Bits -----------------------------------------------------
   289     0007                     
   290                           ;----- CCP1AS Bits -----------------------------------------------------
   291     0007                     
   292                           ;----- ECCP1AS Bits -----------------------------------------------------
   293     0007                     
   294                           ;----- PSTR1CON Bits -----------------------------------------------------
   295     0004                     
   296                           ;----- CCP2CON Bits -----------------------------------------------------
   297     0007                     
   298                           ;----- PWM2CON Bits -----------------------------------------------------
   299     0007                     
   300                           ;----- CCP2AS Bits -----------------------------------------------------
   301     0007                     
   302                           ;----- ECCP2AS Bits -----------------------------------------------------
   303     0007                     
   304                           ;----- PSTR2CON Bits -----------------------------------------------------
   305     0004                     
   306                           ;----- CCPTMRS0 Bits -----------------------------------------------------
   307     0007                     
   308                           ;----- CCPTMRS1 Bits -----------------------------------------------------
   309     0001                     
   310                           ;----- TRISF Bits -----------------------------------------------------
   311     0007                     
   312                           ;----- TRISG Bits -----------------------------------------------------
   313     0005                     
   314                           ;----- CCP3CON Bits -----------------------------------------------------
   315     0007                     
   316                           ;----- PWM3CON Bits -----------------------------------------------------
   317     0007                     
   318                           ;----- CCP3AS Bits -----------------------------------------------------
   319     0007                     
   320                           ;----- ECCP3AS Bits -----------------------------------------------------
   321     0007                     
   322                           ;----- PSTR3CON Bits -----------------------------------------------------
   323     0004                     
   324                           ;----- CCP4CON Bits -----------------------------------------------------
   325     0005                     
   326                           ;----- CCP5CON Bits -----------------------------------------------------
   327     0005                     
   328                           ;----- LATF Bits -----------------------------------------------------
   329     0007                     
   330                           ;----- LATG Bits -----------------------------------------------------
   331     0005                     
   332                           ;----- IOCBP Bits -----------------------------------------------------
   333     0007                     
   334                           ;----- IOCBN Bits -----------------------------------------------------
   335     0007                     
   336                           ;----- IOCBF Bits -----------------------------------------------------
   337     0007                     
   338                           ;----- ANSELF Bits -----------------------------------------------------
   339     0007                     
   340                           ;----- ANSELG Bits -----------------------------------------------------
   341     0004                     
   342                           ;----- T4CON Bits -----------------------------------------------------
   343     0006                     
   344                           ;----- T6CON Bits -----------------------------------------------------
   345     0006                     
   346                           ;----- WPUG Bits -----------------------------------------------------
   347     0005                     
   348                           ;----- RC2STA Bits -----------------------------------------------------
   349     0007                     
   350                           ;----- TX2STA Bits -----------------------------------------------------
   351     0007                     
   352                           ;----- BAUD2CON Bits -----------------------------------------------------
   353     0007                     
   354                           ;----- LCDCON Bits -----------------------------------------------------
   355     0007                     
   356                           ;----- LCDPS Bits -----------------------------------------------------
   357     0007                     
   358                           ;----- LCDREF Bits -----------------------------------------------------
   359     0007                     
   360                           ;----- LCDCST Bits -----------------------------------------------------
   361     0002                     
   362                           ;----- LCDRL Bits -----------------------------------------------------
   363     0007                     
   364                           ;----- LCDSE0 Bits -----------------------------------------------------
   365     0007                     
   366                           ;----- LCDSE1 Bits -----------------------------------------------------
   367     0007                     
   368                           ;----- LCDSE2 Bits -----------------------------------------------------
   369     0007                     
   370                           ;----- LCDSE3 Bits -----------------------------------------------------
   371     0007                     
   372                           ;----- LCDSE4 Bits -----------------------------------------------------
   373     0007                     
   374                           ;----- LCDSE5 Bits -----------------------------------------------------
   375     0005                     
   376                           ;----- LCDDATA0 Bits -----------------------------------------------------
   377     0007                     
   378                           ;----- LCDDATA1 Bits -----------------------------------------------------
   379     0007                     
   380                           ;----- LCDDATA2 Bits -----------------------------------------------------
   381     0007                     
   382                           ;----- LCDDATA3 Bits -----------------------------------------------------
   383     0007                     
   384                           ;----- LCDDATA4 Bits -----------------------------------------------------
   385     0007                     
   386                           ;----- LCDDATA5 Bits -----------------------------------------------------
   387     0007                     
   388                           ;----- LCDDATA6 Bits -----------------------------------------------------
   389     0007                     
   390                           ;----- LCDDATA7 Bits -----------------------------------------------------
   391     0007                     
   392                           ;----- LCDDATA8 Bits -----------------------------------------------------
   393     0007                     
   394                           ;----- LCDDATA9 Bits -----------------------------------------------------
   395     0007                     
   396                           ;----- LCDDATA10 Bits -----------------------------------------------------
   397     0007                     
   398                           ;----- LCDDATA11 Bits -----------------------------------------------------
   399     0007                     
   400                           ;----- LCDDATA12 Bits -----------------------------------------------------
   401     0007                     
   402                           ;----- LCDDATA13 Bits -----------------------------------------------------
   403     0007                     
   404                           ;----- LCDDATA14 Bits -----------------------------------------------------
   405     0005                     
   406                           ;----- LCDDATA15 Bits -----------------------------------------------------
   407     0007                     
   408                           ;----- LCDDATA16 Bits -----------------------------------------------------
   409     0007                     
   410                           ;----- LCDDATA17 Bits -----------------------------------------------------
   411     0005                     
   412                           ;----- LCDDATA18 Bits -----------------------------------------------------
   413     0007                     
   414                           ;----- LCDDATA19 Bits -----------------------------------------------------
   415     0007                     
   416                           ;----- LCDDATA20 Bits -----------------------------------------------------
   417     0005                     
   418                           ;----- LCDDATA21 Bits -----------------------------------------------------
   419     0007                     
   420                           ;----- LCDDATA22 Bits -----------------------------------------------------
   421     0007                     
   422                           ;----- LCDDATA23 Bits -----------------------------------------------------
   423     0005                     
   424                           ;----- STATUS_SHAD Bits -----------------------------------------------------
   425     0002                     
   426                           	psect	edata
   427                           
   428                           ;==========================================================================
   429                           ;
   430                           ; Configuration Bits
   431                           ;
   432                           ; NAME Address
   433                           ; CONFIG1 8007h
   434                           ; CONFIG2 8008h
   435                           ;
   436                           ;==========================================================================
   437                           ;========================================================
   438                           ;================ Project Information ===================
   439                           ;========================================================
   440                           ;Project Name : MODBUS RTU BASE
   441                           ;-------------------------------------------------------
   442                           ;Project Version: 2.00
   443                           ;Edit Date : 2023/09/28
   444                           ;Function Info :
   445                           ;-------------------------------------------------------
   446                           ;Description of Register Informatione (use FSR)
   447                           ;MODBUS_DAT_BUF_ADRL+0 : set output byte count ( min = 1 )
   448                           ;MODBUS_DAT_BUF_ADRL+1 : set input byte count ( min = 0 )
   449                           ;MODBUS_DAT_BUF_ADRL+2 : BSR temporary(把進入前的BANK存起來)
   450                           ;MODBUS_DAT_BUF_ADRL+3 : Data offset temporary
   451                           ;MODBUS_DAT_BUF_ADRL+4 : CRC counter
   452                           ;MODBUS_DAT_BUF_ADRL+5 : CRC HBYTE
   453                           ;MODBUS_DAT_BUF_ADRL+6 : CRC LBYTE
   454                           ;MODBUS_DAT_BUF_ADRL+7 : time out count
   455                           ;MODBUS_DAT_BUF_ADRL+8 : MODBUS_FLAG
   456                           ;MODBUS_DAT_BUF_ADRL+A~n : Output buffer serial addressing
   457                           ;-------------------------------------------------------
   458                           ;-------------------------------------------------------
   459                           ;-------------------------------------------------------
   460                           ;須被定義的部分
   461     0003                     
   462                           ;-------------------------------------------------------
   463     00B0                     
   464                           	psect	tool
   465     0D00                     MODBUS_OUTPUT_FUNCTION:	
   466                           ;-------------------------------------------------------
   467                           ;-------------------------------------------------------
   468                           ;=======================================================
   469                           ;====================== UART2 TX設定 ===================
   470                           ;=======================================================
   471                           ;傳送資料給UART
   472                           
   473     0D00  3020               	movlw	32
   474     0D01  0087               	movwf	7
   475     0D02  30B0               	movlw	176
   476     0D03  0086               	movwf	6
   477                           
   478                           ;------------------
   479     0D04  0808               	movf	8,w
   480     0D05  3FC2               	movwi [2]fsr1	;先將進入前的BANK存起來
   481     0D06  0020               	banksel	12
   482     0D07  2D1C               	goto	MODBUS_INT_EXIT_FUNCTION
   483     0D08                     SET_MODBUS_MODE_ENABLE:	
   484                           ;=======================================================
   485                           ;====================== UART2 MODULE ===================OK
   486                           ;=======================================================
   487                           
   488     0D08  0029               	banksel	1172
   489     0D09  3000               	movlw	0
   490     0D0A  0094               	movwf	1172
   491     0D0B  3033               	movlw	51	;9600
   492     0D0C  0093               	movwf	1171
   493     0D0D  0029               	banksel	1175
   494     0D0E  3000               	movlw	0
   495     0D0F  0097               	movwf	1175
   496     0D10  0029               	banksel	1174
   497     0D11  3024               	movlw	36
   498     0D12  0096               	movwf	1174
   499     0D13  0029               	banksel	1173
   500     0D14  3090               	movlw	144
   501     0D15  0095               	movwf	1173
   502     0D16  0026               	banksel	781
   503     0D17  118D               	bcf	781,3	;設定MODBUS ENABLE為輸出
   504     0D18  0027               	banksel	909
   505     0D19  118D               	bcf	909,3	;設定MODBUS IC為接收
   506     0D1A  0020               	banksel	12
   507     0D1B  0008               	return
   508     0D1C                     MODBUS_INT_EXIT_FUNCTION:	
   509                           ;=======================================================
   510                           ;====================== UART2 離開 =====================
   511                           ;=======================================================
   512                           
   513     0D1C  3F42               	moviw [2]fsr1
   514     0D1D  0088               	movwf	8
   515     0D1E  0008               	return
   516     0D1F                     MODBUS_INTPUT_FUNCTION:	
   517                           ;=======================================================
   518                           ;====================== UART2 RX設定 ===================OK
   519                           ;=======================================================
   520                           
   521     0D1F  3020               	movlw	32
   522     0D20  0087               	movwf	7
   523     0D21  30B0               	movlw	176
   524     0D22  0086               	movwf	6
   525                           
   526                           ;------------------
   527     0D23  0808               	movf	8,w
   528     0D24  3FC2               	movwi [2]fsr1	;先將進入前的BANK存起來
   529                           
   530                           ;---------------------------------------------------
   531     0D25  0020               	banksel	20
   532     0D26  1294               	bcf	20,5
   533     0D27  300A               	movlw	10
   534     0D28  0786               	addwf	6,f	;將FSR指到存放資料的地方
   535                           
   536                           ;---------------------------------------------------
   537     0D29  3020               	movlw	32
   538     0D2A  0085               	movwf	5
   539     0D2B  30B0               	movlw	176
   540     0D2C  0084               	movwf	4
   541     0D2D  3003               	movlw	3
   542     0D2E  0784               	addwf	4,f	;從最低點加上OFFSET到達存放目前的資料位置
   543                           
   544                           ;---------------------------------------------------
   545     0D2F  0800               	movf	0,w
   546     0D30  0786               	addwf	6,f
   547                           
   548                           ;MOVIW +3[FSR1] ;FSR1L再加上目前資料的OFFSET
   549                           ;ADDWF FSR1L,F
   550     0D31  0029               	banksel	1169
   551     0D32  0811               	movf	1169,w
   552     0D33  0081               	movwf	1
   553                           
   554                           ;-------------------
   555     0D34  3020               	movlw	32
   556     0D35  0087               	movwf	7
   557     0D36  30B0               	movlw	176
   558     0D37  0086               	movwf	6
   559     0D38  3003               	movlw	3
   560     0D39  0786               	addwf	6,f
   561     0D3A  0A81               	incf	1,f
   562                           
   563                           ;-------------------- ;將資料OFFSET的暫存器+1
   564     0D3B  3020               	movlw	32
   565     0D3C  0087               	movwf	7
   566     0D3D  30B0               	movlw	176
   567     0D3E  0086               	movwf	6
   568     0D3F  3007               	movlw	7
   569     0D40  0786               	addwf	6,f
   570     0D41  1401               	bsf	1,0
   571                           
   572                           ;-------------------- ;清除TIME OUT COUNT
   573     0D42  3020               	movlw	32
   574     0D43  0087               	movwf	7
   575     0D44  30B0               	movlw	176
   576     0D45  0086               	movwf	6
   577     0D46  3008               	movlw	8
   578     0D47  0786               	addwf	6,f
   579     0D48  1401               	bsf	1,0	;RX FIRST DATA FLAG SET
   580                           
   581                           ;--------------------
   582     0D49  0020               	banksel	12
   583     0D4A  2D1C               	goto	MODBUS_INT_EXIT_FUNCTION


Microchip Technology PIC Macro Assembler V2.40 build 20220703182018 
Symbol Table                                                                                               Mon Oct 02 16:38:53 2023

                     BSR 0008                      LATG 038D                      PIR4 0014                     INDF0 0000  
                   INDF1 0001                     RC2IF 0005                     FSR0H 0005                     FSR1H 0007  
                   FSR0L 0004                     FSR1L 0006                     PORTA 000C                     TRISG 030D  
MODBUS_INT_EXIT_FUNCTION 0D1C                    RC2REG 0491                    RC2STA 0495                    TX2STA 0496  
            MODBUS_OUT_P 038D                   SP2BRGH 0494                   SP2BRGL 0493    SET_MODBUS_MODE_ENABLE 0D08  
                BAUD2CON 0497    MODBUS_INTPUT_FUNCTION 0D1F                 MODBUS_EN 0003       MODBUS_DAT_BUF_ADRH 0020  
     MODBUS_DAT_BUF_ADRL 00B0    MODBUS_OUTPUT_FUNCTION 0D00  
